<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-5  ">

            <form [formGroup]="hotelForm" action="">

                <h4 class="text-center">Room Type</h4>
                <hr>

                <div class="form-group">
                    <label for="">Code
                        <span style="color:black;">(*)</span>
                    </label>
                    <input type="text" class="form-control" formControlName="code" required>
                    <span style="color: red; " class=""
                        *ngIf="hotelForm.controls.code.errors && hotelForm.controls.code.touched">
                        *Code is required*
                    </span>
                </div>
                <div class="form-group">
                    <label for="">Name
                        <span style="color: black;">(*)</span>
                    </label>
                    <input type="text" class="form-control" formControlName="name" required>
                    <span style="color: red;" *ngIf="hotelForm.controls.name.errors && hotelForm.controls.name.touched">
                        *Name is required"
                    </span>
                </div>
                <div class="form-group">
                    <label for="">BedType
                        <span style="color: black;">(*)</span>
                    </label>
                    <input type="text" class="form-control" formControlName="bedType" required>
                    <span style="color: red;"
                        *ngIf="hotelForm.controls.bedType.errors && hotelForm.controls.bedType.touched">
                        *BedType is required*
                    </span>
                </div>
                <div class="form-group">
                    <label for="">Beds
                        <span style="color: black;">(*)</span>
                    </label>
                    <input type="text" class="form-control" formControlName="beds" required>
                    <span style="color: red;" *ngIf="hotelForm.controls.beds.errors && hotelForm.controls.beds.touched">
                        * Beds is required*
                    </span>
                </div>
                <!-- <div class="form-group">
                    <label for="">Hotel</label>
                    <input type="text" class="form-control" formControlName="hotel">
                </div> -->

                <div formArrayName="facilities">
                    <div class="form-row mb-2">
                        <label class="mr-auto" for="">Hotel Facilities</label>
                        <span (click)="addFacility()"><i
                                class="fa fa-plus border rounded border-green p-2 mr-1 bg-success text-white"></i></span>
                    </div>
                    <div class="card mb-2" *ngFor="let hfc of hotelFacilities.controls;  let parentIndex=index;"
                        [formGroupName]="parentIndex">
                        <div class="form-row p-2">
                            <div class="col-1 offset-11">
                                <span (click)="removeFacility(parentIndex)"><i class="fa fa-times"></i></span>
                            </div>
                            <div class="col-6">
                                <label for="">Title</label>
                                <input type="text" class="form-control" formControlName="title">
                            </div>
                            <div class="col-6">
                                <label for="">Facility Logo</label>
                                <input type="text" class="form-control" formControlName="logo">
                            </div>
                            <div class="col-12" formArrayName="facilities">
                                <button class="btn btn-success my-2" (click)="addSubFacility(parentIndex)">Add
                                    Facitity</button>
                                <div class="row no-gutters mb-2"
                                    *ngFor="let sfc of subFacilities(parentIndex).controls; let childIndex=index">
                                    <div class="col-11 mr-1">
                                        <input type="text" class="form-control" [formControlName]="childIndex">
                                    </div>
                                    <div class="col">
                                        <button class="btn btn-danger"
                                            (click)="removeSubFacility(parentIndex, childIndex)">&times;</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="" formArrayName="charges">
                    <div class="form-row mb-2">
                        <label class="mr-auto" for="">Room Charges
                            <span style="color: black;">(*)</span>
                        </label>
                        <span (click)="addroomcharges()"><i
                                class="fa fa-plus border rounded border-green p-2 mr-1 bg-success text-white"></i></span>
                    </div>
                    <div class="card mb-2" *ngFor="let rch of roomCharges.controls;  let i=index;" [formGroupName]="i">

                        <div class="form-row p-2">
                            <div class="col-1 offset-11">
                                <span (click)="removeCharges(i)"><i class="fa fa-times"></i></span>
                            </div>

                            <div class="col-6">
                                <label for="">Charges

                                </label>
                                <input type="text" class="form-control" formControlName="charges">
                            </div>
                            <div class="col-6">
                                <label for="">Currency</label>
                                <input type="text" class="form-control" formControlName="currency">
                            </div>
                        </div>
                        <div class="form-row p-2">
                            <div class="col-6">
                                <label for="">Nationality</label>
                                <select class="form-control" formControlName="nationality">
                                    <option>Foreign</option>
                                    <option>Local</option>
                                </select>
                            </div>
                            <div class="col-6">
                                <label for="">Type</label>
                                <select class="form-control" formControlName="type">
                                    <option>Normal</option>
                                    <option>Extra</option>
                                    <option>Child</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-group mt-2">
                    <button class="btn btn-block btn-success" (click)="save()"
                        [disabled]="!hotelForm.valid">Save</button>
                </div>
            </form>
        </div>
    </div>
</div>